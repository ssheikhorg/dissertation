{% extends "base.html" %}

{% block extra_css %}
<link href="/static/css/evaluation.css" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="evaluation-container">
    <h1>Model Evaluation</h1>

    <div class="controls">
        <div class="control-group">
            <label for="model-select">Model:</label>
            <select id="model-select">
                <option value="gpt-3.5-turbo">GPT-3.5 Turbo</option>
                <option value="gpt-4">GPT-4</option>
                <option value="claude-2">Claude 2</option>
                <option value="llama-2-70b">LLaMA 2 (70B)</option>
            </select>
        </div>

        <div class="control-group">
            <label for="dataset-select">Dataset:</label>
            <select id="dataset-select">
                <option value="truthful_qa">Truthful QA</option>
                <option value="winobias">Winobias</option>
            </select>
        </div>

        <div class="control-group">
            <label for="sample-count">Sample Count:</label>
            <input type="range" id="sample-count" min="1" max="20" value="5">
            <span id="sample-count-value">5</span>
        </div>

        <button
            hx-post="/api/evaluate"
            hx-include="#model-select, #dataset-select, #sample-count"
            hx-target="#results"
            hx-indicator=".loading"
            class="primary-button">
            Run Evaluation
        </button>
    </div>

    <div class="loading" hx-indicator=".loading">
        <div class="spinner"></div>
        <p>Evaluating model...</p>
    </div>

    <div id="results"></div>
</div>

<script>
    document.getElementById('sample-count').addEventListener('input', function() {
        document.getElementById('sample-count-value').textContent = this.value;
    });
</script>
{% endblock %}